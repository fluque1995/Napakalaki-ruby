<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>Class: Model::BadConsequence</title>

  <link rel="stylesheet" href="../rdoc.css" type="text/css" media="screen" />

  <script src="../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="class">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="../lib/bad_consequence_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/bad_consequence.rb">lib/bad_consequence.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link">Object</p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-newDeath">::newDeath</a></li>
          
          <li><a href="#method-c-newNumberOfTreasures">::newNumberOfTreasures</a></li>
          
          <li><a href="#method-c-newSpecificTreasures">::newSpecificTreasures</a></li>
          
          <li><a href="#method-i-adjustToFitTreasureLists">#adjustToFitTreasureLists</a></li>
          
          <li><a href="#method-i-copy">#copy</a></li>
          
          <li><a href="#method-i-isEmpty">#isEmpty</a></li>
          
          <li><a href="#method-i-kills">#kills</a></li>
          
          <li><a href="#method-i-substractHiddenTreasure">#substractHiddenTreasure</a></li>
          
          <li><a href="#method-i-substractVisibleTreasure">#substractVisibleTreasure</a></li>
          
          <li><a href="#method-i-to_s">#to_s</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="../LICENSE.html">LICENSE</a></li>
        
          <li class="file"><a href="../README.html">README</a></li>
        
          <li class="file"><a href="../Rakefile.html">Rakefile</a></li>
        
          <li class="file"><a href="../nbproject/private/rake-d_txt.html">rake-d.txt</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="../Model.html">Model</a></li>
        
          <li><a href="../Model/BadConsequence.html">Model::BadConsequence</a></li>
        
          <li><a href="../Model/CardDealer.html">Model::CardDealer</a></li>
        
          <li><a href="../Model/CombatResult.html">Model::CombatResult</a></li>
        
          <li><a href="../Model/Dice.html">Model::Dice</a></li>
        
          <li><a href="../Model/EjemploMain.html">Model::EjemploMain</a></li>
        
          <li><a href="../Model/Monster.html">Model::Monster</a></li>
        
          <li><a href="../Model/Napakalaki.html">Model::Napakalaki</a></li>
        
          <li><a href="../Model/Player.html">Model::Player</a></li>
        
          <li><a href="../Model/Prize.html">Model::Prize</a></li>
        
          <li><a href="../Model/Treasure.html">Model::Treasure</a></li>
        
          <li><a href="../Model/TreasureKind.html">Model::TreasureKind</a></li>
        
          <li><a href="../Test.html">Test</a></li>
        
          <li><a href="../Test/Command.html">Test::Command</a></li>
        
          <li><a href="../Test/Command/Option.html">Test::Command::Option</a></li>
        
          <li><a href="../Test/GameTester.html">Test::GameTester</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">Model::BadConsequence</h1>

    <div id="description" class="description">
      
<p>Clase que representa el mal rollo que te produce un monstruo cuando pierdes
un combate contra él. Esta clase sirve de apoyo a la clase <a
href="Monster.html">Monster</a>.</p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      

      
      <!-- Attributes -->
      <div id="attribute-method-details" class="method-section section">
        <h3 class="section-header">Attributes</h3>

        
        <div id="hiddenTreasures-attribute-method" class="method-detail">
          <a name="hiddenTreasures"></a>
          
          <a name="hiddenTreasures="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">hiddenTreasures</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>Tesoros ocultos que pierdes contra el monstruo</p>
          
          </div>
        </div>
        
        <div id="levels-attribute-method" class="method-detail">
          <a name="levels"></a>
          
          <a name="levels="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">levels</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>Niveles que pierdes contra el monstruo</p>
          
          </div>
        </div>
        
        <div id="specificHiddenTreasures-attribute-method" class="method-detail">
          <a name="specificHiddenTreasures"></a>
          
          <a name="specificHiddenTreasures="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">specificHiddenTreasures</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>Array de tesoros ocultos específicos que pierdes contra el monstruo</p>
          
          </div>
        </div>
        
        <div id="specificVisibleTreasures-attribute-method" class="method-detail">
          <a name="specificVisibleTreasures"></a>
          
          <a name="specificVisibleTreasures="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">specificVisibleTreasures</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>Array de tesoros visibles específicos que pierdes contra el monstruo</p>
          
          </div>
        </div>
        
        <div id="text-attribute-method" class="method-detail">
          <a name="text"></a>
          
          <a name="text="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">text</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>Texto que representa al mal rollo</p>
          
          </div>
        </div>
        
        <div id="visibleTreasures-attribute-method" class="method-detail">
          <a name="visibleTreasures"></a>
          
          <a name="visibleTreasures="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">visibleTreasures</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>Tesoros visibles que pierdes contra el monstruo</p>
          
          </div>
        </div>
        
      </div><!-- attribute-method-details -->
      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="newDeath-method" class="method-detail ">
          <a name="method-c-newDeath"></a>

          
          <div class="method-heading">
            <span class="method-name">newDeath</span><span
              class="method-args">(aText)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Constructor para el tipo de mal rollo que implica la muerte del jugador</p>

<p>Atributos:</p>
<ul><li>
<p>aText: Texto que representa el mal rollo</p>
</li></ul>
            

            
            <div class="method-source-code" id="newDeath-source">
<pre>
<span class="ruby-comment"># File lib/bad_consequence.rb, line 79</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">newDeath</span>(<span class="ruby-identifier">aText</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">new</span>(<span class="ruby-identifier">aText</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, [], [], <span class="ruby-keyword">true</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- newDeath-source -->
            
          </div>

          

          
        </div><!-- newDeath-method -->

      
        <div id="newNumberOfTreasures-method" class="method-detail ">
          <a name="method-c-newNumberOfTreasures"></a>

          
          <div class="method-heading">
            <span class="method-name">newNumberOfTreasures</span><span
              class="method-args">(aText, someLevels, someVisibleTreasures, someHiddenTreasures)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Constructor para el tipo de mal rollo que implica la pérdida de  un número
de niveles y tesoros.</p>

<p>Atributos:</p>
<ul><li>
<p>aText: Texto que representa el mal rollo</p>
</li><li>
<p>someLevels: Niveles que se pierden</p>
</li><li>
<p>someVisibleTreasures: Tesoros visibles que se pierden</p>
</li><li>
<p>someHiddenTreasures: Tesoros ocultos que se pierden</p>
</li></ul>
            

            
            <div class="method-source-code" id="newNumberOfTreasures-source">
<pre>
<span class="ruby-comment"># File lib/bad_consequence.rb, line 51</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">newNumberOfTreasures</span>(<span class="ruby-identifier">aText</span>, <span class="ruby-identifier">someLevels</span>, <span class="ruby-identifier">someVisibleTreasures</span>, 
                                        <span class="ruby-identifier">someHiddenTreasures</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">new</span>(<span class="ruby-identifier">aText</span>, <span class="ruby-identifier">someLevels</span>, <span class="ruby-identifier">someVisibleTreasures</span>,
                   <span class="ruby-identifier">someHiddenTreasures</span>, [], [], <span class="ruby-keyword">false</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- newNumberOfTreasures-source -->
            
          </div>

          

          
        </div><!-- newNumberOfTreasures-method -->

      
        <div id="newSpecificTreasures-method" class="method-detail ">
          <a name="method-c-newSpecificTreasures"></a>

          
          <div class="method-heading">
            <span class="method-name">newSpecificTreasures</span><span
              class="method-args">(aText, someLevels, someSpecificVisibleTreasures, someSpecificHiddenTreasures)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Constructor para el tipo de mal rollo que implica la pérdida de tesoros 
específicos.</p>

<p>Atributos:</p>
<ul><li>
<p>aText: Texto que representa el mal rollo</p>
</li><li>
<p>someLevels Niveles que se pierden</p>
</li><li>
<p>someSpecificVisibleTreasures: Tesoros visibles específicos que se pierden</p>
</li><li>
<p>someSpecificHiddenTreasures: Tesoros ocultos específicos que se pierden</p>
</li></ul>
            

            
            <div class="method-source-code" id="newSpecificTreasures-source">
<pre>
<span class="ruby-comment"># File lib/bad_consequence.rb, line 67</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">newSpecificTreasures</span>(<span class="ruby-identifier">aText</span>, <span class="ruby-identifier">someLevels</span>, <span class="ruby-identifier">someSpecificVisibleTreasures</span>, 
                         <span class="ruby-identifier">someSpecificHiddenTreasures</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">new</span>(<span class="ruby-identifier">aText</span>, <span class="ruby-identifier">someLevels</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-identifier">someSpecificVisibleTreasures</span>,
                     <span class="ruby-identifier">someSpecificHiddenTreasures</span>, <span class="ruby-keyword">false</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- newSpecificTreasures-source -->
            
          </div>

          

          
        </div><!-- newSpecificTreasures-method -->

      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="adjustToFitTreasureLists-method" class="method-detail ">
          <a name="method-i-adjustToFitTreasureLists"></a>

          
          <div class="method-heading">
            <span class="method-name">adjustToFitTreasureLists</span><span
              class="method-args">(visibleTreasuresArray, hiddenTreasuresArray)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Ajusta un determinado mal rollo a un mal rollo que pueda ser cumplido por 
un determinado jugador. Este método es necesario para que un jugador pueda
cumplir un mal rollo que le aplica un monstruo. Crea el mal rollo más
cercano al que el monstruo tiene y que puede ser cumplido por el jugador al
que se le aplica.</p>
            

            
            <div class="method-source-code" id="adjustToFitTreasureLists-source">
<pre>
<span class="ruby-comment"># File lib/bad_consequence.rb, line 139</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">adjustToFitTreasureLists</span>(<span class="ruby-identifier">visibleTreasuresArray</span>, <span class="ruby-identifier">hiddenTreasuresArray</span>)
  
  <span class="ruby-identifier">badConsequence</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">copy</span>()
  
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">badConsequence</span>.<span class="ruby-identifier">kills</span>
    
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">badConsequence</span>.<span class="ruby-identifier">visibleTreasures</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">badConsequence</span>.<span class="ruby-identifier">hiddenTreasures</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
      
      <span class="ruby-identifier">badConsequence</span>.<span class="ruby-identifier">visibleTreasures</span> = <span class="ruby-identifier">badConsequence</span>.<span class="ruby-identifier">visibleTreasures</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">visibleTreasuresArray</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">?</span>
                                        <span class="ruby-identifier">badConsequence</span>.<span class="ruby-identifier">visibleTreasures</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">visibleTreasuresArray</span>.<span class="ruby-identifier">size</span>
      <span class="ruby-identifier">badConsequence</span>.<span class="ruby-identifier">hiddenTreasures</span> = <span class="ruby-identifier">badConsequence</span>.<span class="ruby-identifier">hiddenTreasures</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">hiddenTreasuresArray</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">?</span>
                                       <span class="ruby-identifier">badConsequence</span>.<span class="ruby-identifier">hiddenTreasures</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">hiddenTreasuresArray</span>.<span class="ruby-identifier">size</span>
    
    <span class="ruby-keyword">else</span>
      
      <span class="ruby-identifier">supportVisibles</span> = <span class="ruby-identifier">visibleTreasuresArray</span>.<span class="ruby-identifier">dup</span>
      <span class="ruby-keyword">for</span> <span class="ruby-identifier">t</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">badConsequence</span>.<span class="ruby-identifier">specificVisibleTreasures</span>
        <span class="ruby-identifier">found</span> = <span class="ruby-keyword">false</span>
        <span class="ruby-keyword">for</span> <span class="ruby-identifier">treasure</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">supportVisibles</span>
          <span class="ruby-keyword">if</span> <span class="ruby-identifier">treasure</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">t</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">found</span>
           <span class="ruby-identifier">found</span> = <span class="ruby-keyword">true</span>
           <span class="ruby-identifier">index</span> = <span class="ruby-identifier">supportVisibles</span>.<span class="ruby-identifier">find_index</span>(<span class="ruby-identifier">treasure</span>)
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">if</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">found</span>
          <span class="ruby-identifier">index</span> = <span class="ruby-identifier">badConsequence</span>.<span class="ruby-identifier">specificVisibleTreasures</span>.<span class="ruby-identifier">find_index</span>(<span class="ruby-identifier">t</span>)
          <span class="ruby-identifier">badConsequence</span>.<span class="ruby-identifier">specificVisibleTreasures</span>.<span class="ruby-identifier">delete_at</span>(<span class="ruby-identifier">index</span>)
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">supportVisibles</span>.<span class="ruby-identifier">delete_at</span>(<span class="ruby-identifier">index</span>)
      <span class="ruby-keyword">end</span>
      
      <span class="ruby-identifier">supportHiddens</span> = <span class="ruby-identifier">hiddenTreasuresArray</span>.<span class="ruby-identifier">dup</span>
      <span class="ruby-keyword">for</span> <span class="ruby-identifier">t</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">badConsequence</span>.<span class="ruby-identifier">specificHiddenTreasures</span>
        <span class="ruby-identifier">found</span> = <span class="ruby-keyword">false</span>
        <span class="ruby-keyword">for</span> <span class="ruby-identifier">treasure</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">supportHiddens</span>
          <span class="ruby-keyword">if</span> <span class="ruby-identifier">treasure</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">t</span>
            <span class="ruby-identifier">found</span> = <span class="ruby-keyword">true</span>
            <span class="ruby-identifier">index</span> = <span class="ruby-identifier">supportHiddens</span>.<span class="ruby-identifier">find_index</span>(<span class="ruby-identifier">treasure</span>)
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">if</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">found</span>
          <span class="ruby-identifier">index</span> = <span class="ruby-identifier">badConsequence</span>.<span class="ruby-identifier">specificHiddenTreasures</span>.<span class="ruby-identifier">find_index</span>(<span class="ruby-identifier">t</span>)
          <span class="ruby-identifier">badConsequence</span>.<span class="ruby-identifier">specificHiddenTreasures</span>.<span class="ruby-identifier">delete_at</span>(<span class="ruby-identifier">index</span>)
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">supportHiddens</span>.<span class="ruby-identifier">delete_at</span>(<span class="ruby-identifier">index</span>)
      <span class="ruby-keyword">end</span>  
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">badConsequence</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- adjustToFitTreasureLists-source -->
            
          </div>

          

          
        </div><!-- adjustToFitTreasureLists-method -->

      
        <div id="isEmpty-method" class="method-detail ">
          <a name="method-i-isEmpty"></a>

          
          <div class="method-heading">
            <span class="method-name">isEmpty</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Método que comprueba si el mal rollo está vacío, es decir, si no tiene nada
que aplicar</p>
            

            
            <div class="method-source-code" id="isEmpty-source">
<pre>
<span class="ruby-comment"># File lib/bad_consequence.rb, line 87</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">isEmpty</span>()

  <span class="ruby-keyword">return</span> (<span class="ruby-ivar">@visibleTreasures</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-keyword">and</span> <span class="ruby-ivar">@hiddenTreasures</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-keyword">and</span> 
      (<span class="ruby-ivar">@specificVisibleTreasures</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">or</span> <span class="ruby-ivar">@specificVisibleTreasures</span>.<span class="ruby-identifier">empty?</span>) <span class="ruby-keyword">and</span> 
      (<span class="ruby-ivar">@specificHiddenTreasures</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">or</span> <span class="ruby-ivar">@specificHiddenTreasures</span>.<span class="ruby-identifier">empty?</span>) <span class="ruby-keyword">and</span> 
      <span class="ruby-ivar">@death</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>)

<span class="ruby-keyword">end</span></pre>
            </div><!-- isEmpty-source -->
            
          </div>

          

          
        </div><!-- isEmpty-method -->

      
        <div id="kills-method" class="method-detail ">
          <a name="method-i-kills"></a>

          
          <div class="method-heading">
            <span class="method-name">kills</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Método que comprueba si el mal rollo implica la muerte del jugador.
Funciona como un getter del atributo death</p>
            

            
            <div class="method-source-code" id="kills-source">
<pre>
<span class="ruby-comment"># File lib/bad_consequence.rb, line 100</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">kills</span>()
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@death</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- kills-source -->
            
          </div>

          

          
        </div><!-- kills-method -->

      
        <div id="substractHiddenTreasure-method" class="method-detail ">
          <a name="method-i-substractHiddenTreasure"></a>

          
          <div class="method-heading">
            <span class="method-name">substractHiddenTreasure</span><span
              class="method-args">(treasure)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Quita al jugador un determinado tesoro oculto si éste lo posee</p>
            

            
            <div class="method-source-code" id="substractHiddenTreasure-source">
<pre>
<span class="ruby-comment"># File lib/bad_consequence.rb, line 121</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">substractHiddenTreasure</span>(<span class="ruby-identifier">treasure</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@hiddenTreasures</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
    <span class="ruby-ivar">@hiddenTreasures</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">t</span> = <span class="ruby-ivar">@specificHiddenTreasures</span>.<span class="ruby-identifier">find_index</span>(<span class="ruby-identifier">treasure</span>.<span class="ruby-identifier">type</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">t</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
      <span class="ruby-ivar">@specificHiddenTreasures</span>.<span class="ruby-identifier">delete_at</span>(<span class="ruby-identifier">t</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- substractHiddenTreasure-source -->
            
          </div>

          

          
        </div><!-- substractHiddenTreasure-method -->

      
        <div id="substractVisibleTreasure-method" class="method-detail ">
          <a name="method-i-substractVisibleTreasure"></a>

          
          <div class="method-heading">
            <span class="method-name">substractVisibleTreasure</span><span
              class="method-args">(treasure)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Quita al jugador un determinado tesoro visible si éste lo posee</p>
            

            
            <div class="method-source-code" id="substractVisibleTreasure-source">
<pre>
<span class="ruby-comment"># File lib/bad_consequence.rb, line 107</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">substractVisibleTreasure</span>(<span class="ruby-identifier">treasure</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@visibleTreasures</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
    <span class="ruby-ivar">@visibleTreasures</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">t</span> = <span class="ruby-ivar">@specificVisibleTreasures</span>.<span class="ruby-identifier">find_index</span>(<span class="ruby-identifier">treasure</span>.<span class="ruby-identifier">type</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">t</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
      <span class="ruby-ivar">@specificVisibleTreasures</span>.<span class="ruby-identifier">delete_at</span>(<span class="ruby-identifier">t</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- substractVisibleTreasure-source -->
            
          </div>

          

          
        </div><!-- substractVisibleTreasure-method -->

      
        <div id="to_s-method" class="method-detail ">
          <a name="method-i-to_s"></a>

          
          <div class="method-heading">
            <span class="method-name">to_s</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Método que devuelve en un string la información completa del monstruo.
Sirve para trazar errores.</p>
            

            
            <div class="method-source-code" id="to_s-source">
<pre>
<span class="ruby-comment"># File lib/bad_consequence.rb, line 195</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_s</span>()
  <span class="ruby-identifier">printable_text</span> = <span class="ruby-node">&quot;Texto: #{@text}\n\t\tNiveles: #{@levels}, tesoros visibles: #{@visibleTreasures},&quot;</span> <span class="ruby-operator">+</span>
         <span class="ruby-node">&quot; tesoros ocultos: #{@hiddenTreasures}&quot;</span>

  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">specificVisibleTreasures</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>)
    <span class="ruby-identifier">printable_text</span> <span class="ruby-operator">+=</span> <span class="ruby-string">&quot;\n\t\tTesoros visibles específicos: &quot;</span>
    <span class="ruby-keyword">for</span> <span class="ruby-identifier">treasure</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">specificVisibleTreasures</span>
      <span class="ruby-identifier">printable_text</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">treasure</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;, &quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">specificHiddenTreasures</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>)
    <span class="ruby-identifier">printable_text</span> <span class="ruby-operator">+=</span> <span class="ruby-string">&quot;\n\t\tTesoros ocultos específicos: &quot;</span>
    <span class="ruby-keyword">for</span> <span class="ruby-identifier">treasure</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">specificHiddenTreasures</span>
      <span class="ruby-identifier">printable_text</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">treasure</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;, &quot;</span>  
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">printable_text</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- to_s-source -->
            
          </div>

          

          
        </div><!-- to_s-method -->

      
      </div><!-- public-instance-method-details -->
    
      <div id="protected-instance-method-details" class="method-section section">
        <h3 class="section-header">Protected Instance Methods</h3>

      
        <div id="copy-method" class="method-detail ">
          <a name="method-i-copy"></a>

          
          <div class="method-heading">
            <span class="method-name">copy</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Método que devuelve una copia exacta del mal rollo que llama a la función,
pero con identidad distinta. Este método es necesario para evitar modificar
el mal rollo asociado a los mostruos cuando estos se ajustan para ser
cumplidos por un jugador en el método <a
href="BadConsequence.html#method-i-adjustToFitTreasureLists">BadConsequence.adjustToFitTreasureLists</a></p>
            

            
            <div class="method-source-code" id="copy-source">
<pre>
<span class="ruby-comment"># File lib/bad_consequence.rb, line 222</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">copy</span>()
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@death</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">badConsequence</span> = <span class="ruby-constant">BadConsequence</span>.<span class="ruby-identifier">newDeath</span>(<span class="ruby-ivar">@name</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@visibleTreasures</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-keyword">or</span> <span class="ruby-ivar">@hiddenTreasures</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">badConsequence</span> = <span class="ruby-constant">BadConsequence</span>.<span class="ruby-identifier">newNumberOfTreasures</span>(<span class="ruby-ivar">@name</span>, <span class="ruby-ivar">@levels</span>, <span class="ruby-ivar">@visibleTreasures</span>,
                                                         <span class="ruby-ivar">@hiddenTreasures</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">badConsequence</span> = <span class="ruby-constant">BadConsequence</span>.<span class="ruby-identifier">newSpecificTreasures</span>(<span class="ruby-ivar">@name</span>, <span class="ruby-ivar">@levels</span>, <span class="ruby-ivar">@specificVisibleTreasures</span>.<span class="ruby-identifier">dup</span>,
                                                         <span class="ruby-ivar">@specificHiddenTreasures</span>.<span class="ruby-identifier">dup</span>)
  <span class="ruby-keyword">end</span>
  
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">badConsequence</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- copy-source -->
            
          </div>

          

          
        </div><!-- copy-method -->

      
      </div><!-- protected-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

